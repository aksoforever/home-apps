<script type="text/discourse-plugin" version="0.8">
  // This is the plugin outlet, followed by a custom name for the component
  api.registerConnectorClass("above-footer", "homepage-footer", {

    // Setting up our component
    setupComponent(args, component) {

     // Next we're getting the site setting 'top_menu',
     // splitting the values into an array,
     // and adding a leading slash
     var topMenuRoutes = 
        Discourse.SiteSettings.top_menu.split('|')
        .map(function(route) {return '/' + route});
      
     // The first page listed in the 'top_menu' setting is your homepage
     // lets assign it to a variable
     var homeRoute = topMenuRoutes[0];
  
     // This calls our code whenever the page changes
     api.onPageChange((url) => {

        // Check if we're on the homepage 
        if (url === "/" || url === homeRoute ){ 
          // If it's the homepage add the 'custom-homepage' class to HTML tag
          // and set 'displayCustomHomepage' to true
          document.querySelector("html").classList.add("homepage-footer"); 
          component.set("displayCustomHomepage", true); 
        } else {  
          // If we're not on the homepage remove the class
          // and set `displayCustomHomepage` to false
          document.querySelector("html").classList.remove("homepage-footer"); 
          component.set("displayCustomHomepage", false); 
        }
      });
    }
    
  });

</script>

<script type="text/x-handlebars" data-template-name="/connectors/above-footer/homepage-footer">
  {{#if displayCustomHomepage}} 


       <section class="homepagesection homepage-light mobile-bottom">
          <div class="custom-homepage-wrapper wrap">
             <div class="main_title">
                <h2>{{theme-i18n "home_apps_title"}}</h2>
                <p>{{theme-i18n "home_apps_description"}}</p>
                
             </div>
   
   
   
   <div class="container">
    <div class="eip-groups-boxes">
       <a href="{{theme-i18n 'home_app_1_url'}}" target="_Blank" class="eip-group-box ember-view">
          <div class="eip-group-box-inner">
             <div class="eip-group-info-wrapper">
                <!---->
                <span class="eip-group-info">
   
                   <div class="eip-group-title">
                      {{d-icon 'tasks'}}
                     <span class="eip-groups-info-name">{{theme-i18n "home_app_1_title"}}</span>
                   </div>
                </span>
             </div>
   
   
          </div>
       </a>
       
       <a href="{{theme-i18n 'home_app_2_url'}}" target="_Blank" class="eip-group-box ember-view">
          <div class="eip-group-box-inner">
             <div class="eip-group-info-wrapper">
                <!---->
                <span class="eip-group-info">
   
                   <div class="eip-group-title">
                      {{d-icon 'microphone-alt'}}
                     <span class="eip-groups-info-name">{{theme-i18n "home_app_2_title"}}</span>
                   </div>
                </span>
             </div>
   
   
          </div>
       </a>
       
       <a href="{{theme-i18n 'home_app_3_url'}}"  target="_Blank"  class="eip-group-box ember-view">
          <div class="eip-group-box-inner">
             <div class="eip-group-info-wrapper">
                <!---->
                <span class="eip-group-info">
   
                   <div class="eip-group-title">
                      {{d-icon 'project-diagram'}}
                     <span class="eip-groups-info-name">{{theme-i18n "home_app_3_title"}}</span>
                   </div>
                </span>
             </div>
   
   
          </div>
       </a>
       
       <a href="{{theme-i18n 'home_app_4_url'}}"  target="_Blank"  class="eip-group-box ember-view">
          <div class="eip-group-box-inner">
             <div class="eip-group-info-wrapper">
                <!---->
                <span class="eip-group-info">
   
                   <div class="eip-group-title">
                      {{d-icon 'users'}}
                     <span class="eip-groups-info-name">{{theme-i18n "home_app_4_title"}}</span>
                   </div>
                </span>
             </div>
   
   
          </div>
       </a>
       <a href="{{theme-i18n 'home_app_5_url'}}" target="_Blank" class="eip-group-box ember-view">
          <div class="eip-group-box-inner">
             <div class="eip-group-info-wrapper">
                <!---->
                <span class="eip-group-info">
   
                   <div class="eip-group-title">
                      {{d-icon 'envelope'}}
                     <span class="eip-groups-info-name">{{theme-i18n "home_app_5_title"}}</span>
                   </div>
                </span>
             </div>
   
   
          </div>
       </a>
	     <a href="{{theme-i18n 'home_app_6_url'}}" target="_Blank" class="eip-group-box ember-view">
          <div class="eip-group-box-inner">
             <div class="eip-group-info-wrapper">
                <!---->
                <span class="eip-group-info">
   
                   <div class="eip-group-title">
                      {{d-icon 'key'}}
                     <span class="eip-groups-info-name">{{theme-i18n "home_app_6_title"}}</span>
                   </div>
                </span>
             </div>
   
   
          </div>
       </a>
	    <a href="{{theme-i18n 'home_app_7_url'}}"  target="_Blank"  class="eip-group-box ember-view">
          <div class="eip-group-box-inner">
             <div class="eip-group-info-wrapper">
                <!---->
                <span class="eip-group-info">
   
                   <div class="eip-group-title">
                      {{d-icon 'comments'}}
                     <span class="eip-groups-info-name">{{theme-i18n "home_app_7_title"}}</span>
                   </div>
                </span>
             </div>
   
   
          </div>
       </a>
	     <a href="{{theme-i18n 'home_app_8_url'}}" target="_Blank" class="eip-group-box ember-view">
          <div class="eip-group-box-inner">
             <div class="eip-group-info-wrapper">
                <!---->
                <span class="eip-group-info">
   
                   <div class="eip-group-title">
                      {{d-icon 'cloud'}}
                     <span class="eip-groups-info-name">{{theme-i18n "home_app_8_title"}}</span>
                   </div>
                </span>
             </div>
   
   
          </div>
       </a>


   
   
   </div>
   <div class="seemore">{{{theme-i18n "home_apps_all"}}}</div>
   </div>
   
   	
   
          </div>
   </section>


  {{/if}}
</script>

